<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ach: include/ach.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ach
   </div>
   <div id="projectbrief">Real-TimeIPCLibrary</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ach_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">ach.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ach_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- mode: C; c-basic-offset: 4 -*- */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* ex: set shiftwidth=4 tabstop=4 expandtab: */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2008-2013, Georgia Tech Research Corporation</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Author(s): Neil T. Dantam &lt;ntd@gatech.edu&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Georgia Tech Humanoid Robotics Lab</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Under Direction of Prof. Mike Stilman &lt;mstilman@cc.gatech.edu&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * This file is provided under the following &quot;BSD-style&quot; License:</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *   Redistribution and use in source and binary forms, with or</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   without modification, are permitted provided that the following</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *   conditions are met:</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *   * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *     notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *   * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *     copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *     disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *     with the distribution.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *   CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *   INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> *   MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *   DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *   USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *   AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *   POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> * Shared Memory Layout:</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"> *    ________</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"> *   | Header |</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"> *   |--------|</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"> *   | GUARDH |</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"> *   |--------|</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"> *   | Index  |</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"> *   |--------|</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"> *   | GUARDI |</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"> *   |--------|</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"> *   |  Data  |</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> *   |        |</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> *   |--------|</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> *   | GUARDD |</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> *   |________|</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#ifndef ACH_H</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ACH_H</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/* restict only in C99 */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor"># define ACH_RESTRICT</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#elif  __STDC_VERSION__ &lt; 199901L</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="code" href="ach_8h.html#a36320691b8bddb17d7416a7c57e296f5">  149</a></span>&#160;<span class="preprocessor">#  define ACH_RESTRICT</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor"># define ACH_RESTRICT restrict</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#if (__GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1))</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#define ACH_DEPRECATED  __attribute__((__deprecated__))</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="code" href="ach_8h.html#a8e5f044e5399e970841e35f1f059b697">  160</a></span>&#160;<span class="preprocessor">#define ACH_DEPRECATED</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __GNUC__ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/* Determine a default clock */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#ifdef CLOCK_MONOTONIC</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#define ACH_DEFAULT_CLOCK CLOCK_MONOTONIC</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#elif defined CLOCK_HIGHRES </span><span class="comment">/* Old Solaris lacks CLOCK_MONOTONIC,</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">                               CLOCK_HIGHRES looks the same */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#define ACH_DEFAULT_CLOCK CLOCK_HIGHRES</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#elif defined CLOCK_REALTIME </span><span class="comment">/* Try fallback to CLOCK_REALTIME */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#define ACH_DEFAULT_CLOCK CLOCK_REALTIME</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#error No valid CLOCKS defined.  Expecting CLOCK_MONOTONIC.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* CLOCK_MONOTONIC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="code" href="ach_8h.html#abb5d1fae5fa66a03d7d8d4761011e86c">  184</a></span>&#160;<span class="preprocessor">#define ACH_CHAN_NAME_MAX 64ul</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="code" href="ach_8h.html#afd256125e8e540929dd1b945e4a9c791">  187</a></span>&#160;<span class="preprocessor">#define ACH_CHAN_NAME_PREFIX &quot;/achshm-&quot;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="code" href="ach_8h.html#a01aa865155a30c16a6a5c5643d0f6cfe">  190</a></span>&#160;<span class="preprocessor">#define ACH_INTR_RETRY 8</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="code" href="ach_8h.html#a6ee6cd8dede61e5c4413a70317f63731">  196</a></span>&#160;<span class="preprocessor">#define ACH_SHM_MAGIC_NUM 0xb07511f3</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="code" href="ach_8h.html#a4c1ae385acbd87b06971e19753462423">  204</a></span>&#160;<span class="preprocessor">#define ACH_SHM_GUARD_HEADER_NUM ((uint64_t)0x1A2A3A4A5A6A7A8ALLU)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="code" href="ach_8h.html#a9756b6b93b39fbed2645e463dfc7d327">  210</a></span>&#160;<span class="preprocessor">#define ACH_SHM_GUARD_INDEX_NUM ((uint64_t)0x1B2B3B4B5B6B7B8BLLU)</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="code" href="ach_8h.html#ae81e27183c5ad6111cf19685f942ab7e">  218</a></span>&#160;<span class="preprocessor">#define ACH_SHM_GUARD_DATA_NUM ((uint64_t)0x1C2C3C4C5C6C7C8CLLU)</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551">  221</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a> {</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551afefe1a7f013444d4d3eeff6a47f1874e">  222</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551afefe1a7f013444d4d3eeff6a47f1874e" title="Call successful.">ACH_OK</a> = 0,             </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a1af1e6af38bf18218a80b06195769062">  223</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a1af1e6af38bf18218a80b06195769062" title="buffer to small to hold frame">ACH_OVERFLOW</a> = 1,       </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a136cba32d00e1e1065b31703bbf51f5a">  224</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a136cba32d00e1e1065b31703bbf51f5a" title="invalid channel name">ACH_INVALID_NAME</a> = 2,   </div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a268e9e8e27c0d5f83ac4eb44369b772a">  225</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a268e9e8e27c0d5f83ac4eb44369b772a" title="channel file didn&#39;t look right">ACH_BAD_SHM_FILE</a> = 3,   </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a07c7b309136d251e83cab6c9647b634b">  226</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a07c7b309136d251e83cab6c9647b634b" title="a system call failed">ACH_FAILED_SYSCALL</a> = 4, </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a33c60b8c61f290af044ae15970ff0495">  227</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a33c60b8c61f290af044ae15970ff0495" title="no new data in the channel">ACH_STALE_FRAMES</a> = 5,   </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551ab225cc19cdc5defd7f2cc034dd1308db">  228</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551ab225cc19cdc5defd7f2cc034dd1308db" title="we missed the next frame">ACH_MISSED_FRAME</a> = 6,   </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a6403ef3ca27827f131e232e624ada43f">  229</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a6403ef3ca27827f131e232e624ada43f" title="timeout before frame received">ACH_TIMEOUT</a> = 7,        </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a50ab3aceb9e90eab0abcb771fcbff28f">  230</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a50ab3aceb9e90eab0abcb771fcbff28f" title="channel file already exists">ACH_EEXIST</a> = 8,         </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a26094dd35827f5eeff52ac042adee837">  231</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a26094dd35827f5eeff52ac042adee837" title="channel file doesn&#39;t exist">ACH_ENOENT</a> = 9,         </div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a30700cae0d026134bb4c4c3f171393d8">  232</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a30700cae0d026134bb4c4c3f171393d8" title="unused">ACH_CLOSED</a> = 10,        </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551aee0f13015388d15702d2b256c21fb2d7">  233</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551aee0f13015388d15702d2b256c21fb2d7" title="internal ach error">ACH_BUG</a> = 11,           </div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551ab6a4cbfae7d1696eb07ed831b8b31a47">  234</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551ab6a4cbfae7d1696eb07ed831b8b31a47" title="invalid channel">ACH_EINVAL</a> = 12,        </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551afc8868986ff6656713379fa9482cf020">  235</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551afc8868986ff6656713379fa9482cf020" title="channel memory has been corrupted">ACH_CORRUPT</a> = 13,       </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551aef9365db53cb5885e3c42cfbda2904a1">  236</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551aef9365db53cb5885e3c42cfbda2904a1" title="an invalid header was given">ACH_BAD_HEADER</a> = 14,    </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a3bf899f62128237b9b544dfdcb865340">  237</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a3bf899f62128237b9b544dfdcb865340" title="permission denied">ACH_EACCES</a> = 15,        </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a06fcb5858ccb1d76e9fcd8468ce670ba">  238</a></span>&#160;        <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551a06fcb5858ccb1d76e9fcd8468ce670ba" title="operation canceled">ACH_CANCELED</a> = 16       </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <a class="code" href="ach_8h.html#a37a6ca5cbf68c6e7f8f4abd5ce783ddc" title="return status codes for ach functions">ach_status_t</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fe">  246</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fea84945ef892a7ea70b1c28734957b9885">  253</a></span>&#160;        <a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fea84945ef892a7ea70b1c28734957b9885" title="Blocks until an unseen message arrives or timeout.">ACH_O_WAIT</a> = 0x01,</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fea42b2241346389ea6f63b685b19346d74">  259</a></span>&#160;        <a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fea42b2241346389ea6f63b685b19346d74" title="Reads the newest message out of the channel.">ACH_O_LAST</a> = 0x02,</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fea8080640c6e9e728d339810675afdf260">  263</a></span>&#160;        <a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fea8080640c6e9e728d339810675afdf260" title="Copy the message out of the channel, even if already seen.">ACH_O_COPY</a> = 0x04</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    } <a class="code" href="ach_8h.html#ae42d0299e86224c0ac39dc58959bd7fe" title="Option flags for ach_get().">ach_get_opts_t</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="code" href="structach__header__t.html">  271</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="code" href="structach__header__t.html#a2b3fe30a9e7f9fe192e19fb3ee04c2c8">  272</a></span>&#160;        uint32_t <a class="code" href="structach__header__t.html#a2b3fe30a9e7f9fe192e19fb3ee04c2c8" title="magic number of ach shm files">magic</a>;          </div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="code" href="structach__header__t.html#a46437c42eb0dc8f00af4ecd91539f79f">  273</a></span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#a46437c42eb0dc8f00af4ecd91539f79f" title="length of mmap&#39;ed file">len</a>;              </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="code" href="structach__header__t.html#a40a74c9be148bd3cf9299620df06dc94">  274</a></span>&#160;        <span class="keywordtype">char</span> name[1+<a class="code" href="ach_8h.html#abb5d1fae5fa66a03d7d8d4761011e86c" title="maximum size of a channel name">ACH_CHAN_NAME_MAX</a>]; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keyword">union </span>{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="code" href="structach__header__t.html#adc943882b1a4c31492d48e05e9ed2003">  277</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#adc943882b1a4c31492d48e05e9ed2003" title="number of entries in index">index_cnt</a>;        </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="code" href="structach__header__t.html#ac3a0b9cc9c357bfa04eb2e3c69fd8ab8">  278</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#ac3a0b9cc9c357bfa04eb2e3c69fd8ab8" title="size of data bytes">data_size</a>;        </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="code" href="structach__header__t.html#ae1dc7f6b5b662efba797155226fdbf93">  279</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#ae1dc7f6b5b662efba797155226fdbf93" title="offset to first open byte of data">data_head</a>;        </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="code" href="structach__header__t.html#a6f5b6ea50e8b913c5863ff7b19d6a41b">  280</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#a6f5b6ea50e8b913c5863ff7b19d6a41b" title="number of free data bytes">data_free</a>;        </div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="code" href="structach__header__t.html#a26e129af024067341db090d9eef816b2">  281</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#a26e129af024067341db090d9eef816b2" title="index into index array of first unused index entry">index_head</a>;       </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="code" href="structach__header__t.html#a2a187943af11a7cbce0b936b6dbb134e">  282</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__header__t.html#a2a187943af11a7cbce0b936b6dbb134e" title="number of unused index entries">index_free</a>;       </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="code" href="structach__header__t.html#a5f5a2e669d0a3b82d2f3e557974d1f25">  283</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__header__t.html#a5f5a2e669d0a3b82d2f3e557974d1f25" title="is channel in the heap?">anon</a>;                </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            };</div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="code" href="structach__header__t.html#ab3cfddb8219871af25772dce701c154d">  285</a></span>&#160;            uint64_t reserved[16];  </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        };</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keyword">struct </span><span class="comment">/* anonymous structure */</span> {</div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="code" href="structach__header__t.html#afe10c18fe3174cfffa275272d5eb513e">  288</a></span>&#160;            pthread_mutex_t <a class="code" href="structach__header__t.html#afe10c18fe3174cfffa275272d5eb513e" title="mutex for condition variables">mutex</a>;         </div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="code" href="structach__header__t.html#adf481b28dae0920d505cc4d54839258f">  289</a></span>&#160;            pthread_cond_t <a class="code" href="structach__header__t.html#adf481b28dae0920d505cc4d54839258f" title="condition variable">cond</a>;           </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordtype">int</span> dirty;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        } sync;                   </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="comment">/* should force our alignment to 8-bytes... */</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="code" href="structach__header__t.html#a2d14db42fa0de56fba848f84b236e233">  293</a></span>&#160;        uint64_t <a class="code" href="structach__header__t.html#a2d14db42fa0de56fba848f84b236e233" title="last sequence number written">last_seq</a>;        </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    } <a class="code" href="structach__header__t.html" title="Header for shared memory area.">ach_header_t</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="code" href="structach__index__t.html">  298</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="code" href="structach__index__t.html#a09d62d5a30564852d0273797b7f6288f">  299</a></span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="structach__index__t.html#a09d62d5a30564852d0273797b7f6288f" title="size of frame">size</a>;      </div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="code" href="structach__index__t.html#a8f36436d8e2236167e20f12a24f87963">  300</a></span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="structach__index__t.html#a8f36436d8e2236167e20f12a24f87963" title="byte offset of entry from beginning of data array">offset</a>;    </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="code" href="structach__index__t.html#ae36ca8f336ee4deaf32ee5b109cf0f56">  301</a></span>&#160;        uint64_t <a class="code" href="structach__index__t.html#ae36ca8f336ee4deaf32ee5b109cf0f56" title="number of frame">seq_num</a>; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    } <a class="code" href="structach__index__t.html" title="Entry in shared memory index array.">ach_index_t</a> ;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="code" href="structach__attr__t.html">  306</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keyword">union </span>{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keyword">struct</span>{</div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="code" href="structach__attr__t.html#a28acf4026402daa2b322af32052160b2">  309</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__attr__t.html#a28acf4026402daa2b322af32052160b2" title="anonymous channel (put it in process heap, not shm)">map_anon</a>;        </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="code" href="structach__attr__t.html#a9661e1da582c74766120408f5e9bfda2">  310</a></span>&#160;                <a class="code" href="structach__header__t.html" title="Header for shared memory area.">ach_header_t</a> *<a class="code" href="structach__attr__t.html#a9661e1da582c74766120408f5e9bfda2" title="the memory buffer used by anonymous channels">shm</a>;   </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            };</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="code" href="structach__attr__t.html#ad628a9b6a04df17d33c23fe75e08ff99">  312</a></span>&#160;            uint64_t reserved_size[8]; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        };</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    } <a class="code" href="structach__attr__t.html" title="Attributes to pass to ach_open.">ach_attr_t</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html">  317</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">union </span>{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keyword">struct</span>{</div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html#a49290681ec1d48e1bbd4bebcee27df27">  320</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__create__attr__t.html#a49290681ec1d48e1bbd4bebcee27df27" title="allocate channel in heap, rather than shm">map_anon</a>;      </div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html#a3bc28b142d07b12bb235d6ccc8028745">  321</a></span>&#160;                <a class="code" href="structach__header__t.html" title="Header for shared memory area.">ach_header_t</a> *<a class="code" href="structach__create__attr__t.html#a3bc28b142d07b12bb235d6ccc8028745" title="pointer to channel, set on output of create iff map_anon">shm</a>; </div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html#a6a71c790360ab2747a1e679d1fc529e9">  322</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__create__attr__t.html#a6a71c790360ab2747a1e679d1fc529e9" title="remove and recreate an existing shm file">truncate</a>;      </div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html#ae1350955c91dd4709ec7a832c62c7461">  323</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__create__attr__t.html#ae1350955c91dd4709ec7a832c62c7461" title="if true, set the clock of the condition variable">set_clock</a>;     </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html#a6c1719b5eb15f909f02128889dc58104">  324</a></span>&#160;                clockid_t clock;   </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            };</div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="code" href="structach__create__attr__t.html#af01027f0bee7f4014729eb9c4f27fdf0">  327</a></span>&#160;            uint64_t reserved[16]; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        };</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    } <a class="code" href="structach__create__attr__t.html" title="Attributes to pass to ach_create.">ach_create_attr_t</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="code" href="structach__channel__t.html">  333</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keyword">union </span>{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="code" href="structach__channel__t.html#ad12d416ef130efe288fd186b3d6119bd">  336</a></span>&#160;                <a class="code" href="structach__header__t.html" title="Header for shared memory area.">ach_header_t</a> *<a class="code" href="structach__channel__t.html#ad12d416ef130efe288fd186b3d6119bd" title="pointer to mmap&#39;ed block">shm</a>;   </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a90c8cfdb460ab6f8cdad5bd1920f011f">  337</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__channel__t.html#a90c8cfdb460ab6f8cdad5bd1920f011f" title="length of memory mapping">len</a>;          </div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a1ca73e995dbe967ea54cba7f4a10d620">  338</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__channel__t.html#a1ca73e995dbe967ea54cba7f4a10d620" title="file descriptor of mmap&#39;ed file">fd</a>;              </div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a18e3834a2712f9c917391d64e0563c7d">  339</a></span>&#160;                uint64_t <a class="code" href="structach__channel__t.html#a18e3834a2712f9c917391d64e0563c7d" title="last sequence number read">seq_num</a>;    </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a786e22cafe4161682dd63832c35f9102">  340</a></span>&#160;                <span class="keywordtype">size_t</span> <a class="code" href="structach__channel__t.html#a786e22cafe4161682dd63832c35f9102" title="next index entry to try get from">next_index</a>;   </div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a89379463e3c9b74bcda111f0bd91142d">  341</a></span>&#160;                <a class="code" href="structach__attr__t.html" title="Attributes to pass to ach_open.">ach_attr_t</a> <a class="code" href="structach__channel__t.html#a89379463e3c9b74bcda111f0bd91142d" title="attributes used to create this channel">attr</a>;     </div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a257511e130af74919fbeac12725a58f5">  342</a></span>&#160;                <span class="keyword">volatile</span> sig_atomic_t <a class="code" href="structach__channel__t.html#a257511e130af74919fbeac12725a58f5" title="cancel a waiting ach_get">cancel</a>; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            };</div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="code" href="structach__channel__t.html#a9417645f205d70508fb1403dd8be28c4">  344</a></span>&#160;            uint64_t reserved[16]; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        };</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    } <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">extern</span> <span class="keywordtype">size_t</span> <a class="code" href="ach_8h.html#ab49bf40d8d514cd9c90044b570b6dbca" title="Size of ach_channel_t.">ach_channel_size</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keyword">extern</span> <span class="keywordtype">size_t</span> <a class="code" href="ach_8h.html#a7bdba00f25de2f8ac2887056d0a34154" title="Size of ach_attr_t.">ach_attr_size</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="code" href="ach_8h.html#a8448a67475a582f8515335a3e88c8856">  354</a></span>&#160;<span class="preprocessor">#define ACH_SHM_GUARD_HEADER( shm ) ((uint64_t*)((ach_header_t*)(shm) + 1))</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="code" href="ach_8h.html#a1a58bc54a5ccd573e5d6185696c5b93f">  357</a></span>&#160;<span class="preprocessor">#define ACH_SHM_INDEX( shm ) ((ach_index_t*)(ACH_SHM_GUARD_HEADER(shm) + 1))</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="code" href="ach_8h.html#a8daa921151d1ad687da018f8caf072d2">  360</a></span>&#160;<span class="preprocessor">#define ACH_SHM_GUARD_INDEX( shm )                                      \</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">    ((uint64_t*)(ACH_SHM_INDEX(shm) + ((ach_header_t*)(shm))-&gt;index_cnt))</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="code" href="ach_8h.html#af61e34af50bd47ecc2ef3f5bdc77e545">  364</a></span>&#160;<span class="preprocessor">#define ACH_SHM_DATA( shm ) ( (uint8_t*)(ACH_SHM_GUARD_INDEX(shm) + 1) )</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="code" href="ach_8h.html#af20a50fe51b61358d83442841d2182ea">  367</a></span>&#160;<span class="preprocessor">#define ACH_SHM_GUARD_DATA( shm )                                       \</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">    ((uint64_t*)(ACH_SHM_DATA(shm) + ((ach_header_t*)(shm))-&gt;data_size))</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="ach_8h.html#a860d84dfee4d1306fe58df7b073c440a" title="Initialize attributes for opening channels.">ach_attr_init</a>( <a class="code" href="structach__attr__t.html" title="Attributes to pass to ach_open.">ach_attr_t</a> *attr );</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="ach_8h.html#a1fa91ef1ccb0e3521a8b1d6ecfd2a66c" title="Initialize attributes for creating channels.">ach_create_attr_init</a>( <a class="code" href="structach__create__attr__t.html" title="Attributes to pass to ach_create.">ach_create_attr_t</a> *attr );</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="ach_8h.html#afd2a92b13a96dc80bb4ce70b68c36e82" title="Creates a new channel.">ach_create</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *channel_name,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordtype">size_t</span> frame_cnt, <span class="keywordtype">size_t</span> frame_size,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <a class="code" href="structach__create__attr__t.html" title="Attributes to pass to ach_create.">ach_create_attr_t</a> *attr );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="code" href="ach_8h.html#a2d73b74eebe49d7d7ce537f851a89624">  389</a></span>&#160;<span class="preprocessor">#define ACH_DEFAULT_FRAME_COUNT 16</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="code" href="ach_8h.html#ad10d62183dd6bc592899f5bc93dabf7e">  392</a></span>&#160;<span class="preprocessor">#define ACH_DEFAULT_FRAME_SIZE 512</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="ach_8h.html#aaa61413f11032605e3dc46d0fb9a52c9" title="Opens a handle to channel.">ach_open</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *channel_name,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;              <a class="code" href="structach__attr__t.html" title="Attributes to pass to ach_open.">ach_attr_t</a> *attr );</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="ach_8h.html#aee074eb5c6f1bb0256194b43f7164386" title="Pulls a message from the channel.">ach_get</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan, <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;             <span class="keywordtype">size_t</span> *frame_size,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;             <span class="keyword">const</span> <span class="keyword">struct</span> timespec *<a class="code" href="ach_8h.html#a36320691b8bddb17d7416a7c57e296f5" title="Alias restrict keyword.">ACH_RESTRICT</a> abstime,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;             <span class="keywordtype">int</span> options );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="ach_8h.html#a37cf31dd992edf21b58fc6384025137a" title="Writes a new message in the channel.">ach_put</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan, <span class="keyword">const</span> <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> len );</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="ach_8h.html#af51fdf3b5edf39ce54f62ac0f031dd2b" title="Discards all previously received messages for this handle.">ach_flush</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan );</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="ach_8h.html#a397913b30e59cd6c1ab0b9cf8c5b331c" title="Closes the shared memory block.">ach_close</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ach_8h.html#a11e481d90a14ba4485d3bb15a8bb77c3" title="Converts return code from ach call to a human readable string;.">ach_result_to_string</a>(<a class="code" href="ach_8h.html#a37a6ca5cbf68c6e7f8f4abd5ce783ddc" title="return status codes for ach functions">ach_status_t</a> result);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="ach_8h.html#adccdafda2936a9f70087f950ba7e83e8" title="Prints information about the channel shm to stderr.">ach_dump</a>( <a class="code" href="structach__header__t.html" title="Header for shared memory area.">ach_header_t</a> *shm);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="ach_8h.html#ab81866aaeb3995e12e12de27457e1635" title="Sets permissions of chan to specified mode.">ach_chmod</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan, mode_t mode );</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="ach_8h.html#a3ca9384476568e624155fd7f17aa16f6" title="Delete an ach channel.">ach_unlink</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *name );</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="code" href="structach__cancel__attr.html">  484</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structach__cancel__attr.html" title="Attributes parameter for ach_cancel.">ach_cancel_attr</a> {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keyword">union </span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="code" href="structach__cancel__attr.html#ad2d404da3e9cc1e3838048e769e6b0b3">  487</a></span>&#160;                <span class="keywordtype">int</span> <a class="code" href="structach__cancel__attr.html#ad2d404da3e9cc1e3838048e769e6b0b3" title="If true, permit calls that are unsafe in a signal handler.">async_unsafe</a>; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            };</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            int64_t reserved[8];</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        };</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    } <a class="code" href="ach_8h.html#ad1c3442d5d78094ca8601b95f10a33c7" title="Attributes parameter for ach_cancel.">ach_cancel_attr_t</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordtype">void</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="ach_8h.html#a437c624f840a373a89cbafdb255e1f19" title="Initialize attributes.">ach_cancel_attr_init</a>( <a class="code" href="structach__cancel__attr.html" title="Attributes parameter for ach_cancel.">ach_cancel_attr_t</a> *attr );</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ach_8h.html#a0b989f189bcea60548c3692b10eda551" title="return status codes for ach functions">ach_status</a></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="ach_8h.html#a2a166ffaae2926f05fd23685cd0ce52a" title="Cancel a pending ach_get() on channel.">ach_cancel</a>( <a class="code" href="structach__channel__t.html" title="Descriptor for shared memory area.">ach_channel_t</a> *chan, <span class="keyword">const</span> <a class="code" href="structach__cancel__attr.html" title="Attributes parameter for ach_cancel.">ach_cancel_attr_t</a> *attr );</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="code" href="structach__pipe__frame__t.html">  504</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="code" href="structach__pipe__frame__t.html#a91f05a1d0a41129cc43fa93a544b02db">  505</a></span>&#160;        <span class="keywordtype">char</span> magic[8];         </div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="code" href="structach__pipe__frame__t.html#a037dcc837aa17bdeaa22f4d4549869ef">  506</a></span>&#160;        uint8_t size_bytes[8]; </div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="code" href="structach__pipe__frame__t.html#a604b9e9d5447918053237218201df7e4">  507</a></span>&#160;        uint8_t data[1];       </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    } <a class="code" href="structach__pipe__frame__t.html" title="Format for ach frames sent over pipes or stored on disk.">ach_pipe_frame_t</a>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="structach__pipe__frame__t.html" title="Format for ach frames sent over pipes or stored on disk.">ach_pipe_frame_t</a> *<a class="code" href="ach_8h.html#a401609c85440cb0b3d5a8f862b1436ce" title="Malloc an ach_pipe_frame_t with room for `size&#39; data bytes.">ach_pipe_alloc</a>(<span class="keywordtype">size_t</span> size);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="ach_8h.html#a43db63c13e365879b6f345dadd606a56" title="Set size field in ach frame, always stored little endian.">ach_pipe_set_size</a>(<a class="code" href="structach__pipe__frame__t.html" title="Format for ach frames sent over pipes or stored on disk.">ach_pipe_frame_t</a> *frame, uint64_t size);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    uint64_t <a class="code" href="ach_8h.html#a22a869cc3211869668fc530c875630ee" title="Set size field in ach frame, always stored little endian.">ach_pipe_get_size</a>(<span class="keyword">const</span> <a class="code" href="structach__pipe__frame__t.html" title="Format for ach frames sent over pipes or stored on disk.">ach_pipe_frame_t</a> *frame );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ACH_H */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="ach_8h.html">ach.h</a></li>
    <li class="footer">Generated on Thu Sep 5 2013 18:57:06 for ach by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
